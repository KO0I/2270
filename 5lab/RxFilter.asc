Version 4
SHEET 1 1352 680
WIRE -144 -48 -240 -48
WIRE 0 -48 -80 -48
WIRE -96 16 -128 16
WIRE 0 16 0 -48
WIRE 0 16 -16 16
WIRE 224 16 0 16
WIRE -352 96 -384 96
WIRE -240 96 -240 -48
WIRE -240 96 -272 96
WIRE -208 96 -240 96
WIRE -128 96 -128 16
WIRE -128 96 -144 96
WIRE 96 96 -128 96
WIRE 224 112 224 16
WIRE 224 112 160 112
WIRE 288 112 224 112
WIRE 336 112 288 112
WIRE 464 112 400 112
WIRE 560 112 464 112
WIRE 592 112 560 112
WIRE 768 112 592 112
WIRE 96 128 -128 128
WIRE 1056 128 832 128
WIRE 768 144 736 144
WIRE 464 160 464 112
WIRE 560 160 560 112
WIRE 896 160 896 80
WIRE 896 160 800 160
WIRE -240 176 -240 96
WIRE -128 176 -128 128
WIRE -80 176 -128 176
WIRE 32 176 0 176
WIRE 736 192 736 144
WIRE 832 192 736 192
WIRE 880 192 832 192
WIRE 992 192 960 192
WIRE 832 208 832 192
WIRE -240 304 -240 256
WIRE -128 304 -128 256
WIRE 464 304 464 240
WIRE 560 304 560 224
WIRE 736 304 736 272
WIRE 832 304 832 272
WIRE 240 432 240 416
WIRE 320 432 240 432
WIRE 432 432 384 432
WIRE 432 464 432 432
WIRE 64 480 64 432
WIRE 240 480 240 432
WIRE 64 640 64 560
WIRE 240 640 240 560
FLAG 240 416 VDD
FLAG 240 640 0
FLAG 128 80 VDD
FLAG 128 144 0
FLAG 64 640 0
FLAG -240 304 0
FLAG -128 304 0
FLAG 32 176 VDD
FLAG 1056 128 OUT
FLAG 64 432 INPUT
FLAG -384 96 INPUT
FLAG 464 304 0
FLAG 560 304 0
FLAG 800 96 0
FLAG 736 304 0
FLAG 896 80 VDD
FLAG 832 304 0
FLAG 992 192 VDD
FLAG 432 464 0
FLAG 288 112 Filter_out
FLAG 592 112 peak_out
SYMBOL voltage 64 464 R0
WINDOW 3 -494 -115 Left 2
WINDOW 123 -458 38 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value PULSE(0 5 0 1n 1n 390.625u 781.250u 1050)
SYMATTR Value2 AC 1.
SYMATTR InstName TX_DATA
SYMBOL voltage 240 464 R0
SYMATTR InstName VDD_Supply
SYMATTR Value 5
SYMBOL res -256 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value {R1}
SYMBOL cap -80 -64 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 10n
SYMBOL cap -144 80 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 10n
SYMBOL res 0 0 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value {R3}
SYMBOL TLV272 128 112 R0
SYMATTR InstName U1
SYMBOL res -256 160 R0
SYMATTR InstName R2
SYMATTR Value {R2}
SYMBOL res -144 160 R0
SYMATTR InstName R4
SYMATTR Value 39k
SYMBOL res 16 160 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 39k
SYMBOL diode 336 128 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL res 448 144 R0
SYMATTR InstName R6
SYMATTR Value 72k
SYMBOL cap 544 160 R0
SYMATTR InstName C3
SYMATTR Value 1.01µ
SYMBOL TLV272 800 128 M180
SYMATTR InstName U2
SYMBOL res 720 176 R0
SYMATTR InstName R7
SYMATTR Value {Ru1}
SYMBOL cap 816 208 R0
SYMATTR InstName C4
SYMATTR Value 0.1µ
SYMBOL res 976 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value {Ru2}
SYMBOL cap 384 416 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 47µ
TEXT -360 -136 Left 2 ;Filter
TEXT 304 -136 Left 2 ;Peak Detector
TEXT 696 -136 Left 2 ;Comparator
TEXT -368 -296 Left 2 ;Filter Block\nLab 5, Part A
TEXT 1056 -40 Left 2 !.param R1 = 270k\n.param R2= 150\n.param R3 994.8k\n.param Ru1 = 39k\n.param Ru2 = 10k
TEXT 496 448 Left 2 ;PULSE(0 5 0 1n 1n 390.625u 781.250u 1050)
TEXT 312 640 Left 2 ;PWL REPEAT FOR 1 (FILE=lab5pwl.txt) ENDREPEAT
TEXT 496 416 Left 2 ;SINE(5 5 1280 1n 1n 0 1050)
TEXT 560 472 Left 2 !.ac dec 1000 1080 1480
TEXT 688 584 Left 2 ;.tran 0 400ms 0 1ms
RECTANGLE Normal 256 288 -368 -112 2
RECTANGLE Normal 640 288 304 -112 2
RECTANGLE Normal 1040 288 688 -112 2
